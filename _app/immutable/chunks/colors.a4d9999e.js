import{f as B}from"./transform.c6e6b0e0.js";class _ extends Map{constructor(t,e=q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(C(this,t))}has(t){return super.has(C(this,t))}set(t,e){return super.set(X(this,t),e)}delete(t){return super.delete(Y(this,t))}}function C({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):e}function X({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function Y({_intern:n,_key:t},e){const r=t(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function q(n){return n!==null&&typeof n=="object"?n.valueOf():n}function $(n,t){let e;if(t===void 0)for(const r of n)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let a of n)(a=t(a,++r,n))!=null&&(e<a||e===void 0&&a>=a)&&(e=a)}return e}function D(n,t,e){n=+n,t=+t,e=(a=arguments.length)<2?(t=n,n=0,1):a<3?1:+e;for(var r=-1,a=Math.max(0,Math.ceil((t-n)/e))|0,o=new Array(a);++r<a;)o[r]=n+r*e;return o}function G(n){return n}var H=1,P=2,R=3,v=4,j=1e-6;function J(n){return"translate("+n+",0)"}function K(n){return"translate(0,"+n+")"}function Q(n){return t=>+n(t)}function T(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function U(){return!this.__axis}function L(n,t){var e=[],r=null,a=null,o=6,s=6,g=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=n===H||n===v?-1:1,d=n===v||n===P?"x":"y",f=n===H||n===R?J:K;function i(u){var h=r??(t.ticks?t.ticks.apply(t,e):t.domain()),A=a??(t.tickFormat?t.tickFormat.apply(t,e):G),y=Math.max(o,0)+g,w=t.range(),I=+w[0]+l,O=+w[w.length-1]+l,z=(t.bandwidth?T:Q)(t.copy(),l),x=u.selection?u.selection():u,k=x.selectAll(".domain").data([null]),m=x.selectAll(".tick").data(h,t).order(),V=m.exit(),F=m.enter().append("g").attr("class","tick"),M=m.select("line"),b=m.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),m=m.merge(F),M=M.merge(F.append("line").attr("stroke","currentColor").attr(d+"2",c*o)),b=b.merge(F.append("text").attr("fill","currentColor").attr(d,c*y).attr("dy",n===H?"0em":n===R?"0.71em":"0.32em")),u!==x&&(k=k.transition(u),m=m.transition(u),M=M.transition(u),b=b.transition(u),V=V.transition(u).attr("opacity",j).attr("transform",function(p){return isFinite(p=z(p))?f(p+l):this.getAttribute("transform")}),F.attr("opacity",j).attr("transform",function(p){var S=this.parentNode.__axis;return f((S&&isFinite(S=S(p))?S:z(p))+l)})),V.remove(),k.attr("d",n===v||n===P?s?"M"+c*s+","+I+"H"+l+"V"+O+"H"+c*s:"M"+l+","+I+"V"+O:s?"M"+I+","+c*s+"V"+l+"H"+O+"V"+c*s:"M"+I+","+l+"H"+O),m.attr("opacity",1).attr("transform",function(p){return f(z(p)+l)}),M.attr(d+"2",c*o),b.attr(d,c*y).text(A),x.filter(U).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===P?"start":n===v?"end":"middle"),x.each(function(){this.__axis=z})}return i.scale=function(u){return arguments.length?(t=u,i):t},i.ticks=function(){return e=Array.from(arguments),i},i.tickArguments=function(u){return arguments.length?(e=u==null?[]:Array.from(u),i):e.slice()},i.tickValues=function(u){return arguments.length?(r=u==null?null:Array.from(u),i):r&&r.slice()},i.tickFormat=function(u){return arguments.length?(a=u,i):a},i.tickSize=function(u){return arguments.length?(o=s=+u,i):o},i.tickSizeInner=function(u){return arguments.length?(o=+u,i):o},i.tickSizeOuter=function(u){return arguments.length?(s=+u,i):s},i.tickPadding=function(u){return arguments.length?(g=+u,i):g},i.offset=function(u){return arguments.length?(l=+u,i):l},i}function nn(n){return L(R,n)}function tn(n){return L(v,n)}const E=Symbol("implicit");function N(){var n=new _,t=[],e=[],r=E;function a(o){let s=n.get(o);if(s===void 0){if(r!==E)return r;n.set(o,s=t.push(o)-1)}return e[s%e.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],n=new _;for(const s of o)n.has(s)||n.set(s,t.push(s)-1);return a},a.range=function(o){return arguments.length?(e=Array.from(o),a):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return N(t,e).unknown(r)},B.apply(a,arguments),a}function W(){var n=N().unknown(void 0),t=n.domain,e=n.range,r=0,a=1,o,s,g=!1,l=0,c=0,d=.5;delete n.unknown;function f(){var i=t().length,u=a<r,h=u?a:r,A=u?r:a;o=(A-h)/Math.max(1,i-l+c*2),g&&(o=Math.floor(o)),h+=(A-h-o*(i-l))*d,s=o*(1-l),g&&(h=Math.round(h),s=Math.round(s));var y=D(i).map(function(w){return h+o*w});return e(u?y.reverse():y)}return n.domain=function(i){return arguments.length?(t(i),f()):t()},n.range=function(i){return arguments.length?([r,a]=i,r=+r,a=+a,f()):[r,a]},n.rangeRound=function(i){return[r,a]=i,r=+r,a=+a,g=!0,f()},n.bandwidth=function(){return s},n.step=function(){return o},n.round=function(i){return arguments.length?(g=!!i,f()):g},n.padding=function(i){return arguments.length?(l=Math.min(1,c=+i),f()):l},n.paddingInner=function(i){return arguments.length?(l=Math.min(1,i),f()):l},n.paddingOuter=function(i){return arguments.length?(c=+i,f()):c},n.align=function(i){return arguments.length?(d=Math.max(0,Math.min(1,i)),f()):d},n.copy=function(){return W(t(),[r,a]).round(g).paddingInner(l).paddingOuter(c).align(d)},B.apply(f(),arguments)}function rn(n){for(var t=n.length/6|0,e=new Array(t),r=0;r<t;)e[r]="#"+n.slice(r*6,++r*6);return e}export{_ as I,nn as a,W as b,rn as c,tn as d,$ as m,N as o};
